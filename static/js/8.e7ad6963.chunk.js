(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{731:function(e,t,r){e.exports=r(732)},732:function(e,t,r){var n=function(){return this||"object"===typeof self&&self}()||Function("return this")(),a=n.regeneratorRuntime&&Object.getOwnPropertyNames(n).indexOf("regeneratorRuntime")>=0,o=a&&n.regeneratorRuntime;if(n.regeneratorRuntime=void 0,e.exports=r(733),a)n.regeneratorRuntime=o;else try{delete n.regeneratorRuntime}catch(i){n.regeneratorRuntime=void 0}},733:function(e,t){!function(t){"use strict";var r,n=Object.prototype,a=n.hasOwnProperty,o="function"===typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag",s="object"===typeof e,u=t.regeneratorRuntime;if(u)s&&(e.exports=u);else{(u=t.regeneratorRuntime=s?e.exports:{}).wrap=_;var m="suspendedStart",h="suspendedYield",p="executing",f="completed",d={},g={};g[i]=function(){return this};var y=Object.getPrototypeOf,v=y&&y(y(D([])));v&&v!==n&&a.call(v,i)&&(g=v);var E=x.prototype=b.prototype=Object.create(g);k.prototype=E.constructor=x,x.constructor=k,x[l]=k.displayName="GeneratorFunction",u.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===k||"GeneratorFunction"===(t.displayName||t.name))},u.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,l in e||(e[l]="GeneratorFunction")),e.prototype=Object.create(E),e},u.awrap=function(e){return{__await:e}},R(N.prototype),N.prototype[c]=function(){return this},u.AsyncIterator=N,u.async=function(e,t,r,n){var a=new N(_(e,t,r,n));return u.isGeneratorFunction(t)?a:a.next().then(function(e){return e.done?e.value:a.next()})},R(E),E[l]="Generator",E[i]=function(){return this},E.toString=function(){return"[object Generator]"},u.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},u.values=D,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=r)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,a){return c.type="throw",c.arg=e,t.next=n,a&&(t.method="next",t.arg=r),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var l=a.call(i,"catchLoc"),s=a.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:D(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=r),d}}}function _(e,t,r,n){var a=t&&t.prototype instanceof b?t:b,o=Object.create(a.prototype),i=new C(n||[]);return o._invoke=function(e,t,r){var n=m;return function(a,o){if(n===p)throw new Error("Generator is already running");if(n===f){if("throw"===a)throw o;return M()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=L(i,r);if(c){if(c===d)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===m)throw n=f,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=p;var l=w(e,t,r);if("normal"===l.type){if(n=r.done?f:h,l.arg===d)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n=f,r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function w(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}function b(){}function k(){}function x(){}function R(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function N(e){var t;this._invoke=function(r,n){function o(){return new Promise(function(t,o){!function t(r,n,o,i){var c=w(e[r],e,n);if("throw"!==c.type){var l=c.arg,s=l.value;return s&&"object"===typeof s&&a.call(s,"__await")?Promise.resolve(s.__await).then(function(e){t("next",e,o,i)},function(e){t("throw",e,o,i)}):Promise.resolve(s).then(function(e){l.value=e,o(l)},function(e){return t("throw",e,o,i)})}i(c.arg)}(r,n,t,o)})}return t=t?t.then(o,o):o()}}function L(e,t){var n=e.iterator[t.method];if(n===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=r,L(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var a=w(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,d;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=r),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function D(e){if(e){var t=e[i];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=r,t.done=!0,t};return o.next=o}}return{next:M}}function M(){return{value:r,done:!0}}}(function(){return this||"object"===typeof self&&self}()||Function("return this")())},734:function(e,t,r){"use strict";function n(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(s){return void r(s)}c.done?t(l):Promise.resolve(l).then(n,a)}function a(e){return function(){var t=this,r=arguments;return new Promise(function(a,o){var i=e.apply(t,r);function c(e){n(i,a,o,c,l,"next",e)}function l(e){n(i,a,o,c,l,"throw",e)}c(void 0)})}}r.d(t,"a",function(){return a})},735:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(46),i=Object(o.withScriptjs)(Object(o.withGoogleMap)(function(e){return a.a.createElement(o.GoogleMap,{defaultZoom:e.zoom,defaultCenter:{lat:e.lat,lng:e.long},defaultOptions:{mapTypeControl:!1,scaleControl:!1,streetViewControl:!1,rotateControl:!1,fullscreenControl:!0,gestureHandling:"cooperative"}},e.isMarkerShown&&a.a.createElement(o.Marker,{position:{lat:e.lat,lng:e.long}}))}));t.a=i},752:function(e,t,r){e.exports={root:"ReportDetail_root__1yGwT",backSecondary:"ReportDetail_backSecondary__aWrd8",details:"ReportDetail_details__2Sf9I",header:"ReportDetail_header__2NYXn",map:"ReportDetail_map__3baYX",mapElement:"ReportDetail_mapElement__3XpGM",image:"ReportDetail_image__3GvtO",profileContainer:"ReportDetail_profileContainer__28mmR",profileImageContainer:"ReportDetail_profileImageContainer__377JK",profileImage:"ReportDetail_profileImage__16Tys",name:"ReportDetail_name__2kuYH",role:"ReportDetail_role__1kb7D",reportImagesContainer:"ReportDetail_reportImagesContainer__1G7_W",reportImage:"ReportDetail_reportImage__oY19B",reportAction:"ReportDetail_reportAction__2pF3b",backPrimary:"ReportDetail_backPrimary__Ee3eQ"}},763:function(e,t,r){"use strict";r.r(t);var n=r(731),a=r.n(n),o=r(734),i=r(2),c=r(5),l=r(752),s=r.n(l),u=r(0),m=r.n(u),h=r(4),p=r.n(h),f=r(6),d=r(735),g=r(41),y=r(81),v=r(102),E=r.n(v),_=r(80),w=r.n(_),b=r(15);t.default=function(e){var t=e.match,r=(e.id,e.history),n=(e.className,Object(c.a)(e,["match","id","history","className"]),m.a.useContext(b.a)),l=m.a.useState(),u=Object(i.a)(l,2),h=u[0],v=u[1],_=function(){var e=Object(o.a)(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:fetch("".concat("https://ongkiherlambang.id","/reports/").concat(t)).then(function(e){return e.json()}).then(function(e){v(e)}).catch(function(e){return console.log(e)});case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}();m.a.useEffect(function(){_(t.params.reportId)},[]);return m.a.createElement("div",{className:p()(s.a.root)},h&&m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:s.a.details},m.a.createElement("header",{className:s.a.header},m.a.createElement(g.a,{className:s.a.backSecondary,secondary:!0,small:!0,onClick:function(){return r.goBack()}},"Back"),m.a.createElement(f.a,{heading3:!0,className:s.a.reportStatus},"active"===h.status?"Active report":"mission"===h.status?"On-going mission":"accomplished"===h.status?"Mission accomplised":h.status)),m.a.createElement("hr",null),h.createdAt&&m.a.createElement("div",{style:{padding:"4px 0"}},m.a.createElement(f.a,{medium:!0,style:{color:"#767676",marginRight:"8px"}},"Reported:"),m.a.createElement(f.a,{heading5:!0},E()(h.createdAt).format("D MMMM YYYY, ")," at ",E()(h.createdAt).format("hh:mm a"))),h.processedAt&&m.a.createElement("div",{style:{padding:"4px 0"}},m.a.createElement(f.a,{medium:!0,style:{color:"#767676",marginRight:"8px"}},"Processed:"),m.a.createElement(f.a,{heading5:!0},E()(h.processedAt).format("D MMMM YYYY, ")," at ",E()(h.processedAt).format("hh:mm a"))),h.completedAt&&m.a.createElement("div",{style:{padding:"4px 0"}},m.a.createElement(f.a,{medium:!0,style:{color:"#767676",marginRight:"8px"}},"Accomplished:"),m.a.createElement(f.a,{heading5:!0},E()(h.completedAt).format("D MMMM YYYY, ")," at ",E()(h.completedAt).format("hh:mm a"))),m.a.createElement("hr",null),m.a.createElement("div",{className:s.a.profileContainer},m.a.createElement("div",{className:s.a.profileImageContainer},m.a.createElement(y.a,{fit:"cover",src:h.reporter.profileUrl,alt:h.reporter.name,className:s.a.profileImage})),m.a.createElement("div",null,m.a.createElement(f.a,{component:"h3",heading5:!0,className:s.a.name},h.reporter.name),m.a.createElement(f.a,{small:!0,className:s.a.role},h.reporter.role))),m.a.createElement("hr",null),m.a.createElement(f.a,{heading4Alt:!0},h.address),m.a.createElement("hr",null),m.a.createElement("div",{className:s.a.reportImagesContainer},h.photos&&h.photos.length>0&&h.photos.map(function(e,t){return m.a.createElement(f.a,{key:t,component:"a",href:"".concat("https://ongkiherlambang.id").concat(e),className:s.a.reportImage},m.a.createElement(y.a,{src:"".concat("https://ongkiherlambang.id").concat(e),alt:h.address,fit:"cover",className:s.a.image}))})),m.a.createElement("hr",null),h.keterangan&&h.keterangan.length>0?h.keterangan.map(function(e,t){return m.a.createElement(f.a,{component:"p",key:t,medium:!0},'"',e,'"')}):m.a.createElement(f.a,{medium:!0},"Tidak ada keterangan yang ditambahkan oleh pelapor."),m.a.createElement("hr",null),n&&"dispatcher"===n.user.role&&"active"===h.status&&m.a.createElement("div",{className:p()(s.a.reportAction)},m.a.createElement(g.a,{style:{marginRight:"12px"},onClick:function(){return e=h._id,void w.a.patch("".concat("https://ongkiherlambang.id","/reports/").concat(e),{dispatcher:"5c7d8ab3940a7c551d7b0c5e",status:"invalid"}).then(function(e){return e.data}).then(function(e){return v(e)}).catch(function(e){return console.log(e)});var e},primaryAlt:!0},"Laporan tidak benar"),m.a.createElement(g.a,{onClick:function(){return e=h._id,void w.a.patch("".concat("https://ongkiherlambang.id","/reports/").concat(e),{dispatcher:"5c7d8ab3940a7c551d7b0c5e",status:"mission"}).then(function(e){return e.data}).then(function(e){return v(e)}).catch(function(e){return console.log(e)});var e},primary:!0},"Luncurkan sebagai misi")),n&&"dispatcher"===n.user.role&&"mission"===h.status&&m.a.createElement("div",{className:p()(s.a.reportAction)},m.a.createElement(g.a,{style:{justifySelf:"flex-end"},onClick:function(){return e=h._id,void w.a.patch("".concat("https://ongkiherlambang.id","/reports/").concat(e),{dispatcher:"5c7d8ab3940a7c551d7b0c5e",status:"accomplished"}).then(function(e){return e.data}).then(function(e){return v(e)}).catch(function(e){return console.log(e)});var e},primary:!0},"Set completed"))),m.a.createElement(d.a,{isMarkerShown:!0,lat:Number(h.latitude),long:Number(h.longitude),zoom:16,googleMapURL:"https://maps.googleapis.com/maps/api/js?key=AIzaSyBNREXU2Q7SUSMuBdiDxHRzY_SRd-_QVGc&v=3.exp&libraries=geometry,drawing,places",containerElement:m.a.createElement("div",{className:s.a.map}),loadingElement:m.a.createElement("div",{style:{height:"100%"}}),mapElement:m.a.createElement("div",{className:s.a.mapElement})}),m.a.createElement("div",{className:s.a.backPrimary},m.a.createElement(g.a,{secondary:!0,small:!0,onClick:function(){return r.goBack()}},"Back"))))}}}]);
//# sourceMappingURL=8.e7ad6963.chunk.js.map