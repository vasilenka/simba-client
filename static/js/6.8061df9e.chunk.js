(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{735:function(e,a,t){"use strict";var n=t(0),l=t.n(n),r=t(46),s=Object(r.withScriptjs)(Object(r.withGoogleMap)(function(e){return l.a.createElement(r.GoogleMap,{defaultZoom:e.zoom,defaultCenter:{lat:e.lat,lng:e.long},defaultOptions:{mapTypeControl:!1,scaleControl:!1,streetViewControl:!1,rotateControl:!1,fullscreenControl:!0,gestureHandling:"cooperative"}},e.isMarkerShown&&l.a.createElement(r.Marker,{position:{lat:e.lat,lng:e.long}}))}));a.a=s},755:function(e,a,t){e.exports={root:"UserDetail_root__GlIfC",details:"UserDetail_details__1Hplw",header:"UserDetail_header__rn5by",name:"UserDetail_name__329XS",role:"UserDetail_role__BGMWO",picture:"UserDetail_picture__2fxP8",profileImageContainer:"UserDetail_profileImageContainer__o_Mir",subheading:"UserDetail_subheading__1qIs_",profileImage:"UserDetail_profileImage__3PwTt",personalInformation:"UserDetail_personalInformation__t6ur2",profileInfo:"UserDetail_profileInfo__38Eyf",infoPoint:"UserDetail_infoPoint__267o7",infoValue:"UserDetail_infoValue__2r_tP",ktpImage:"UserDetail_ktpImage__3MIoN",validateUser:"UserDetail_validateUser__-6IA1",listContainer:"UserDetail_listContainer__79kyA",list:"UserDetail_list__3saze",point:"UserDetail_point__19e89",smallHeading:"UserDetail_smallHeading__1S0DO",activitesHeader:"UserDetail_activitesHeader__2gLHR"}},756:function(e,a,t){e.exports={root:"Spinner_root___PaCK",loader:"Spinner_loader__uL9ax",rotate:"Spinner_rotate__33-p1",small:"Spinner_small__3zOhu",medium:"Spinner_medium__uB4Tr"}},757:function(e,a,t){e.exports={root:"Close_root__1zgJn",small:"Close_small__2CsqL",medium:"Close_medium__hJF-M",large:"Close_large__3M_V9"}},758:function(e,a,t){e.exports={root:"RoleRequest_root__1NoLq",title:"RoleRequest_title__2AcC7",text:"RoleRequest_text__3YA8t"}},768:function(e,a,t){"use strict";t.r(a);var n=t(2),l=t(5),r=t(755),s=t.n(r),i=t(0),o=t.n(i),c=t(4),m=t.n(c),d=t(80),u=t.n(d),p=t(102),g=t.n(p),f=t(6),_=t(81),h=t(41),E=t(25),v=t(1),N=t(756),b=t.n(N),y=function(e){var a,t,n=e.small,r=e.medium,s=e.className,i=Object(l.a)(e,["small","medium","className"]);return o.a.createElement("div",Object.assign({className:m()((a={},Object(v.a)(a,b.a.root,!0),Object(v.a)(a,s,s),a))},i),o.a.createElement("div",{className:m()((t={},Object(v.a)(t,b.a.loader,!0),Object(v.a)(t,b.a.small,n),Object(v.a)(t,b.a.medium,!n||r),t))}))},D=t(757),U=t.n(D);function j(){return(j=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}var O=o.a.createElement("path",{d:"m23.25 24c-.19 0-.38-.07-.53-.22l-10.72-10.72-10.72 10.72c-.29.29-.77.29-1.06 0s-.29-.77 0-1.06l10.72-10.72-10.72-10.72c-.29-.29-.29-.77 0-1.06s.77-.29 1.06 0l10.72 10.72 10.72-10.72c.29-.29.77-.29 1.06 0s .29.77 0 1.06l-10.72 10.72 10.72 10.72c.29.29.29.77 0 1.06-.15.15-.34.22-.53.22",fillRule:"evenodd"}),k=function(e){return o.a.createElement("svg",j({viewBox:"0 0 24 24",role:"img","aria-label":"Close",focusable:"false",style:{display:"block"}},e),O)},C=(t.p,function(e){var a,t=e.className,n=e.small,r=e.medium,s=e.large,i=Object(l.a)(e,["className","small","medium","large"]);return o.a.createElement(k,Object.assign({className:m()((a={},Object(v.a)(a,U.a.root,!0),Object(v.a)(a,U.a.small,n),Object(v.a)(a,U.a.large,s),Object(v.a)(a,U.a.medium,r||!n&&!s),Object(v.a)(a,t,t),a))},i))}),I=t(758),R=t.n(I),x=function(e){e.className;var a=e.role,t=e.accept,n=e.decline,r=Object(l.a)(e,["className","role","accept","decline"]);return o.a.createElement("div",Object.assign({className:m()(R.a.root)},r),o.a.createElement(f.a,{heading3:!0,component:"h3",className:R.a.title},"Role request"),o.a.createElement(f.a,{large:!0,component:"p",className:R.a.text},"This user is requesting to be ",o.a.createElement(f.a,{heading4Alt:!0},a)),o.a.createElement("div",null,o.a.createElement(h.a,{primary:!0,small:!0,onClick:t,style:{marginRight:"8px"}},"Accept"),o.a.createElement(h.a,{onClick:n,secondaryAlt:!0,small:!0},"Decline")))},w=t(329),S=t(735),M=t(15);a.default=function(e){e.className;var a=e.match,t=e.history,r=(e.closeDialog,e.refetchData,Object(l.a)(e,["className","match","history","closeDialog","refetchData"]),o.a.useContext(M.a)),i=o.a.useState(),c=Object(n.a)(i,2),d=c[0],p=c[1],v=o.a.useState(),N=Object(n.a)(v,2),b=N[0],D=N[1],U=o.a.useState(),j=Object(n.a)(U,2),O=j[0],k=j[1],I=o.a.useState(0),R=Object(n.a)(I,2),q=R[0],P=R[1],A=o.a.useState(0),V=Object(n.a)(A,2),H=V[0],T=V[1],B=function(e){return fetch("".concat("https://ongkiherlambang.id","/users/").concat(e)).then(function(e){return e.json()}).then(function(e){return p(e)}).catch(function(e){return console.log(e)})};o.a.useEffect(function(){var e;B(a.params.id),e=a.params.id,fetch("".concat("https://ongkiherlambang.id","/users/reports/").concat(e)).then(function(e){return e.json()}).then(function(e){return D(e)}).catch(function(e){return console.log(e)})},[]),o.a.useEffect(function(){b&&(k(b.filter(function(e){return"mission"===e.status||"active"===e.status||"accomplished"===e.status||"invalid"===e.status})),P(b.filter(function(e){return"mission"===e.status})),T(b.filter(function(e){return"invalid"===e.status})))},[b]);return o.a.createElement("div",{style:{padding:"64px"}},o.a.createElement(E.a,{narrow:!0},d?o.a.createElement("div",{className:m()(s.a.root)},o.a.createElement("div",{className:s.a.details},o.a.createElement(h.a,{onClick:function(){return t.goBack()},style:{paddingLeft:0},icon:o.a.createElement(C,null)}),o.a.createElement("header",{className:s.a.header},o.a.createElement(f.a,{heading1:!0,component:"h1",className:s.a.name},d.name),o.a.createElement(f.a,{heading5:!0,component:"h3",className:s.a.role},d.role)),d&&d.requestRole&&"pending"===d.requestRole.status&&o.a.createElement(x,{role:d.requestRole.role,accept:function(){return e=d._id,void u.a.patch("".concat("https://ongkiherlambang.id","/users/").concat(e),{requestRole:{role:d.requestRole.role,status:"accepted"},role:d.role}).then(function(e){200===e.status&&B(a.params.id)}).catch(function(e){console.log(e)});var e},decline:function(){return e=d._id,void u.a.patch("".concat("https://ongkiherlambang.id","/users/").concat(e),{requestRole:{role:d.requestRole.role,status:"declined"},role:d.role}).then(function(e){200===e.status&&B(a.params.id)}).catch(function(e){console.log(e)});var e},style:{marginBottom:"48px"}}),"done"===d.registerProcess&&"pending"===d.status?r&&r.token?o.a.createElement("div",{style:{paddingBottom:"64px"}},o.a.createElement(f.a,{heading2:!0,component:"h2",className:s.a.subheading},"Personal information"),o.a.createElement("div",{className:s.a.personalInformation},o.a.createElement("div",{className:s.a.profileInfo},o.a.createElement(f.a,{className:s.a.infoPoint,small:!0},"Nama"),o.a.createElement(f.a,{className:s.a.infoValue,heading5:!0},d.fullName)),o.a.createElement("div",{className:s.a.profileInfo},o.a.createElement(f.a,{className:s.a.infoPoint,small:!0},"Jenis kelamin"),o.a.createElement(f.a,{className:s.a.infoValue,heading5:!0},d.gender)),o.a.createElement("div",{className:s.a.profileInfo},o.a.createElement(f.a,{className:s.a.infoPoint,small:!0},"Tanggal lahir"),o.a.createElement(f.a,{className:s.a.infoValue,heading5:!0},d.birthDate&&g()(d.birthDate).format("DD MMMM YYYY"))),o.a.createElement("div",{className:s.a.profileInfo},o.a.createElement(f.a,{className:s.a.infoPoint,small:!0},"Alamat"),o.a.createElement("div",{className:s.a.infoValue},o.a.createElement(f.a,{heading5:!0,component:"p"},d.address),o.a.createElement(S.a,{lat:Number(d.latitude),long:Number(d.longitude),isMarkerShown:!0,zoom:17,googleMapURL:"https://maps.googleapis.com/maps/api/js?key=AIzaSyBNREXU2Q7SUSMuBdiDxHRzY_SRd-_QVGc&v=3.exp&libraries=geometry,drawing,places",containerElement:o.a.createElement("div",{style:{willChange:"transform",width:"100%"}}),loadingElement:o.a.createElement("div",{style:{height:"100%"}}),mapElement:o.a.createElement("div",{style:{height:"200px"}})}))),o.a.createElement("div",{className:s.a.profileInfo},o.a.createElement(f.a,{className:s.a.infoPoint,small:!0},"Foto KTP"),o.a.createElement(f.a,{className:s.a.infoValue,component:"a",style:{display:"block",alignSelf:"flex-start"},href:"".concat("https://ongkiherlambang.id").concat(d.idUrl)},o.a.createElement("div",{style:{width:"100%",height:"200px"}},o.a.createElement(_.a,{className:s.a.ktpImage,src:"".concat("https://ongkiherlambang.id").concat(d.idUrl),fit:"cover"})))),o.a.createElement("footer",{className:m()(s.a.validateUser),style:{display:"inline-flex",width:"100%",justifyContent:"space-between",alignItems:"center"}},o.a.createElement(f.a,{heading4:!0,component:"h3",className:s.a.smallHeading},"Verify user data?"),o.a.createElement("div",null,o.a.createElement(h.a,{disabled:!0,small:!0,secondaryAlt:!0,style:{marginRight:"12px"}},"Data invalid"),o.a.createElement(h.a,{disabled:!0,small:!0,primary:!0},"Data valid"))))):null:o.a.createElement(f.a,{medium:!0,component:"p"},"User belum registrasi akun"),o.a.createElement("div",{style:{paddingBottom:"48px"}},o.a.createElement("div",{className:m()(s.a.activitesHeader)},o.a.createElement(f.a,{heading2:!0,component:"h2",style:{color:"rgb(72,72,72)"}},"Activities"),b&&q&&H&&o.a.createElement("div",{className:s.a.listContainer},o.a.createElement(f.a,{medium:!0,component:"h2",className:s.a.list},"Total Reports: ",o.a.createElement(f.a,{heading5:!0,className:s.a.point},O.length)),o.a.createElement(f.a,{medium:!0,component:"h2",className:s.a.list},"Total Missions: ",o.a.createElement(f.a,{heading5:!0,className:s.a.point},q.length)),o.a.createElement(f.a,{medium:!0,component:"h2",className:s.a.list},"Total Invalid Reports: ",o.a.createElement(f.a,{heading5:!0,className:s.a.point},H.length)))),O&&O.length>0?O.map(function(e){return o.a.createElement(w.a,{key:e._id,id:e._id,type:"active"===e.status?"active":"mission"===e.status?"missions":"completed",name:e.reporter.name,profileUrl:e.reporter.profileUrl,address:e.address,latitude:e.latitude,longitude:e.longitude,photos:e.photos,keterangan:e.keterangan})}):o.a.createElement(f.a,{heading5:!0,component:"h5"},"This user doesn't have any report yet!"))),o.a.createElement("div",{className:s.a.picture},o.a.createElement("div",{className:s.a.profileImageContainer},o.a.createElement(_.a,{className:s.a.profileImage,fit:"cover",src:d.profileUrl||"".concat("https://ongkiherlambang.id/images/dummy.png"),alt:d.name})))):o.a.createElement(y,null)))}}}]);
//# sourceMappingURL=6.8061df9e.chunk.js.map